Version 4.1
SHEET 1 4228 3460
WIRE -2496 -1056 -2528 -1056
WIRE 208 -1024 208 -1072
WIRE -2528 -960 -2528 -1056
WIRE 208 -928 208 -944
WIRE 304 -928 208 -928
WIRE 208 -912 208 -928
WIRE -2528 -848 -2528 -880
WIRE -2528 -832 -2528 -848
WIRE 208 -784 208 -832
WIRE -2528 -672 -2528 -752
WIRE -2464 -672 -2528 -672
WIRE 736 -672 496 -672
WIRE 496 -560 496 -592
WIRE 944 -560 496 -560
WIRE 496 -544 496 -560
WIRE 160 -496 160 -576
WIRE -1200 -480 -1232 -480
WIRE -1024 -480 -1120 -480
WIRE 128 -480 -16 -480
WIRE -3024 -464 -3248 -464
WIRE -2688 -464 -3024 -464
WIRE 288 -464 192 -464
WIRE 416 -464 368 -464
WIRE 448 -464 416 -464
WIRE -2208 -448 -2336 -448
WIRE 128 -448 64 -448
WIRE 416 -416 416 -464
WIRE -2272 -384 -2272 -512
WIRE -2336 -368 -2336 -448
WIRE -2304 -368 -2336 -368
WIRE -2208 -352 -2208 -448
WIRE -2208 -352 -2240 -352
WIRE 160 -352 160 -432
WIRE -2304 -336 -2432 -336
WIRE -1968 -336 -1984 -336
WIRE -1840 -336 -1888 -336
WIRE 64 -336 64 -448
WIRE 416 -320 416 -336
WIRE 496 -320 496 -448
WIRE 496 -320 416 -320
WIRE -3024 -304 -3024 -464
WIRE -2688 -304 -2688 -464
WIRE -2272 -304 -2272 -320
WIRE -2208 -288 -2208 -352
WIRE -2128 -288 -2208 -288
WIRE -1984 -288 -1984 -336
WIRE -1984 -288 -2048 -288
WIRE 496 -288 496 -320
WIRE -1920 -272 -1920 -400
WIRE -1152 -272 -1152 -352
WIRE -1984 -256 -1984 -288
WIRE -1952 -256 -1984 -256
WIRE -1408 -256 -1440 -256
WIRE -1232 -256 -1232 -480
WIRE -1232 -256 -1328 -256
WIRE -1184 -256 -1232 -256
WIRE -1840 -240 -1840 -336
WIRE -1840 -240 -1888 -240
WIRE -1024 -240 -1024 -480
WIRE -1024 -240 -1120 -240
WIRE -1008 -240 -1024 -240
WIRE -1952 -224 -1984 -224
WIRE -1184 -224 -1248 -224
WIRE -2128 -192 -2208 -192
WIRE -2000 -192 -2048 -192
WIRE -1984 -192 -1984 -224
WIRE -1984 -192 -2000 -192
WIRE -2272 -160 -2272 -176
WIRE -2000 -160 -2000 -192
WIRE -3024 -144 -3024 -224
WIRE -2304 -144 -2432 -144
WIRE -2688 -128 -2688 -224
WIRE -2208 -128 -2208 -192
WIRE -2208 -128 -2240 -128
WIRE -1152 -128 -1152 -208
WIRE -2304 -112 -2336 -112
WIRE -1920 -112 -1920 -208
WIRE -1248 -112 -1248 -224
WIRE -3024 -64 -3024 -144
WIRE -2336 -48 -2336 -112
WIRE -2208 -48 -2208 -128
WIRE -2208 -48 -2336 -48
WIRE -2688 -32 -2688 -128
WIRE -2272 0 -2272 -96
WIRE 448 0 336 0
WIRE 112 96 112 80
WIRE 448 112 448 80
WIRE 800 112 448 112
WIRE 112 160 112 96
WIRE 80 176 -64 176
WIRE 240 192 144 192
WIRE 352 192 320 192
WIRE 400 192 352 192
WIRE 80 208 16 208
WIRE 352 256 352 192
WIRE 112 304 112 224
WIRE 16 320 16 208
WIRE 432 336 352 336
WIRE 448 336 448 208
WIRE 448 336 432 336
WIRE -2784 464 -2784 448
WIRE -2720 464 -2784 464
WIRE -2816 528 -2848 528
WIRE -2688 528 -2736 528
WIRE -2848 624 -2848 528
WIRE -2816 624 -2848 624
WIRE -2688 624 -2688 528
WIRE -2688 624 -2752 624
WIRE -2784 720 -2784 464
WIRE -2848 736 -2848 624
WIRE -2848 736 -2928 736
WIRE -2816 736 -2848 736
WIRE -2688 752 -2688 624
WIRE -2688 752 -2752 752
WIRE -2352 752 -2688 752
WIRE -2176 752 -2352 752
WIRE -2816 768 -2864 768
WIRE -2784 816 -2784 784
WIRE -2752 816 -2784 816
WIRE -2864 832 -2864 768
WIRE -2784 832 -2784 816
WIRE -2176 912 -2176 752
WIRE -2096 912 -2176 912
WIRE -1792 928 -1792 864
WIRE -1744 928 -1792 928
WIRE 496 944 464 944
WIRE 832 944 576 944
WIRE -2544 992 -2768 992
WIRE -2096 992 -2544 992
WIRE -2016 992 -2016 912
WIRE -1728 1008 -1808 1008
WIRE -2912 1040 -2912 1008
WIRE -2880 1040 -2912 1040
WIRE 464 1056 464 944
WIRE 512 1056 464 1056
WIRE 528 1056 512 1056
WIRE 624 1056 576 1056
WIRE -2096 1072 -2192 1072
WIRE -2016 1072 -2016 992
WIRE -1968 1072 -2016 1072
WIRE -2960 1104 -2976 1104
WIRE -2848 1104 -2880 1104
WIRE -1792 1104 -1792 928
WIRE -1968 1120 -1968 1072
WIRE -1888 1120 -1888 1008
WIRE -1888 1120 -1968 1120
WIRE -1824 1120 -1888 1120
WIRE -1728 1136 -1728 1008
WIRE -1728 1136 -1760 1136
WIRE -1664 1136 -1728 1136
WIRE -1824 1152 -1936 1152
WIRE -2912 1200 -2912 1040
WIRE 560 1200 560 1168
WIRE -3088 1216 -3104 1216
WIRE -2976 1216 -2976 1104
WIRE -2976 1216 -3008 1216
WIRE -2944 1216 -2976 1216
WIRE 464 1216 464 1056
WIRE 464 1216 400 1216
WIRE 528 1216 464 1216
WIRE -2848 1232 -2848 1104
WIRE -2848 1232 -2880 1232
WIRE -2768 1232 -2768 992
WIRE -2768 1232 -2848 1232
WIRE 624 1232 624 1056
WIRE 624 1232 592 1232
WIRE 736 1232 624 1232
WIRE 832 1232 832 944
WIRE 832 1232 800 1232
WIRE 896 1232 832 1232
WIRE 1024 1232 976 1232
WIRE -2944 1248 -3008 1248
WIRE -1792 1248 -1792 1168
WIRE -1744 1248 -1792 1248
WIRE 528 1248 496 1248
WIRE 320 1280 320 1216
WIRE 496 1280 496 1248
WIRE -3008 1296 -3008 1248
WIRE -1936 1312 -1936 1152
WIRE -1792 1312 -1792 1248
WIRE 560 1312 560 1264
WIRE -2912 1344 -2912 1264
WIRE -2880 1344 -2912 1344
WIRE 1088 1360 1056 1360
WIRE 1200 1360 1168 1360
WIRE -2464 1376 -2464 1344
WIRE -2432 1376 -2464 1376
WIRE -2912 1408 -2912 1344
WIRE 1120 1440 1120 1280
WIRE -2512 1456 -2544 1456
WIRE -2384 1456 -2432 1456
WIRE 320 1456 320 1280
WIRE 768 1456 320 1456
WIRE 1024 1456 1024 1232
WIRE 1024 1456 848 1456
WIRE 1056 1456 1056 1360
WIRE 1056 1456 1024 1456
WIRE 1088 1456 1056 1456
WIRE 1200 1472 1200 1360
WIRE 1200 1472 1152 1472
WIRE 1264 1472 1200 1472
WIRE 1712 1472 1264 1472
WIRE 1088 1488 1056 1488
WIRE 1056 1536 1056 1488
WIRE -2464 1552 -2464 1376
WIRE -2544 1568 -2544 1456
WIRE -2544 1568 -2592 1568
WIRE -2496 1568 -2544 1568
WIRE -2384 1584 -2384 1456
WIRE -2384 1584 -2432 1584
WIRE -2208 1584 -2384 1584
WIRE -2192 1584 -2192 1072
WIRE -2192 1584 -2208 1584
WIRE -2496 1600 -2544 1600
WIRE 1120 1600 1120 1504
WIRE 2816 1632 2816 1472
WIRE -2544 1648 -2544 1600
WIRE -2464 1680 -2464 1616
WIRE -2432 1680 -2464 1680
WIRE 2176 1680 2176 1616
WIRE -2464 1696 -2464 1680
WIRE 2144 1696 2000 1696
WIRE 2416 1712 2208 1712
WIRE 2704 1712 2496 1712
WIRE 2768 1712 2704 1712
WIRE 2144 1728 2016 1728
WIRE 2816 1744 2816 1728
WIRE 3424 1744 2816 1744
WIRE 2704 1776 2704 1712
WIRE 2816 1776 2816 1744
WIRE 2176 1824 2176 1744
WIRE 3424 1856 3424 1824
WIRE 3680 1856 3424 1856
WIRE 3792 1856 3744 1856
WIRE 3808 1856 3792 1856
WIRE 3424 1872 3424 1856
WIRE 3792 1904 3792 1856
WIRE 2704 1936 2704 1856
WIRE 2816 1936 2816 1856
WIRE 2816 1936 2704 1936
WIRE 464 1952 432 1952
WIRE 800 1952 544 1952
WIRE 3792 2032 3792 1984
WIRE 3424 2048 3424 1952
WIRE 432 2064 432 1952
WIRE 480 2064 432 2064
WIRE 496 2064 480 2064
WIRE 592 2064 544 2064
WIRE 528 2208 528 2176
WIRE 432 2224 432 2064
WIRE 432 2224 368 2224
WIRE 496 2224 432 2224
WIRE 592 2240 592 2064
WIRE 592 2240 560 2240
WIRE 704 2240 592 2240
WIRE 800 2240 800 1952
WIRE 800 2240 768 2240
WIRE 864 2240 800 2240
WIRE 992 2240 944 2240
WIRE 496 2256 464 2256
WIRE 464 2288 464 2256
WIRE 528 2320 528 2272
WIRE -2608 2368 -2640 2368
WIRE 1056 2368 1024 2368
WIRE 1168 2368 1136 2368
WIRE -2720 2416 -2736 2416
WIRE -2576 2416 -2640 2416
WIRE -2608 2448 -2608 2368
WIRE -2608 2448 -2640 2448
WIRE 1088 2448 1088 2288
WIRE 288 2464 288 2224
WIRE 736 2464 288 2464
WIRE 992 2464 992 2240
WIRE 992 2464 816 2464
WIRE 1024 2464 1024 2368
WIRE 1024 2464 992 2464
WIRE 1056 2464 1024 2464
WIRE 1168 2480 1168 2368
WIRE 1168 2480 1120 2480
WIRE 1232 2480 1168 2480
WIRE 1680 2480 1232 2480
WIRE -2160 2496 -2192 2496
WIRE -1984 2496 -2080 2496
WIRE 1056 2496 1024 2496
WIRE -3616 2528 -3648 2528
WIRE -3456 2528 -3536 2528
WIRE 1024 2544 1024 2496
WIRE -2736 2560 -2736 2416
WIRE -2576 2560 -2576 2416
WIRE -2576 2560 -2672 2560
WIRE 1088 2608 1088 2512
WIRE -2640 2624 -2640 2448
WIRE -3520 2640 -3520 2464
WIRE -3152 2640 -3392 2640
WIRE -2864 2640 -3088 2640
WIRE -2736 2640 -2736 2560
WIRE -2736 2640 -2784 2640
WIRE -2672 2640 -2736 2640
WIRE -3648 2656 -3648 2528
WIRE -3648 2656 -3696 2656
WIRE -3552 2656 -3648 2656
WIRE -2576 2656 -2576 2560
WIRE -2576 2656 -2608 2656
WIRE -2512 2656 -2576 2656
WIRE -2400 2656 -2448 2656
WIRE -3456 2672 -3456 2528
WIRE -3456 2672 -3488 2672
WIRE -3392 2672 -3392 2640
WIRE -3392 2672 -3456 2672
WIRE -2672 2672 -2736 2672
WIRE -3696 2688 -3696 2656
WIRE -3552 2688 -3584 2688
WIRE -2112 2704 -2112 2624
WIRE -2400 2720 -2400 2656
WIRE -2368 2720 -2400 2720
WIRE -2192 2720 -2192 2496
WIRE -2192 2720 -2288 2720
WIRE -2144 2720 -2192 2720
WIRE -2736 2736 -2736 2672
WIRE -1984 2736 -1984 2496
WIRE -1984 2736 -2080 2736
WIRE -1744 2736 -1984 2736
WIRE -2144 2752 -2208 2752
WIRE -3584 2768 -3584 2688
WIRE -3536 2768 -3584 2768
WIRE -3456 2768 -3456 2672
WIRE -3696 2784 -3696 2752
WIRE -3584 2800 -3584 2768
WIRE -3520 2816 -3520 2704
WIRE -2736 2848 -2736 2816
WIRE -2112 2848 -2112 2768
WIRE -2208 2864 -2208 2752
WIRE -3584 2896 -3584 2880
WIRE -2640 2896 -2640 2688
WIRE -2640 2912 -2640 2896
FLAG -3584 2896 0
FLAG -3696 2784 0
FLAG -2736 2848 0
FLAG -2000 -80 0
FLAG -1840 -240 E
IOPIN -1840 -240 Out
FLAG -3008 1376 0
FLAG -3104 1216 Error
IOPIN -3104 1216 In
FLAG -2544 1648 0
FLAG -2864 832 0
FLAG -3008 736 Error
IOPIN -3008 736 In
FLAG -2656 1568 Error
IOPIN -2656 1568 In
FLAG -2688 48 0
FLAG -3024 16 0
FLAG -3024 -144 E1
IOPIN -3024 -144 Out
FLAG -2688 -128 E2
IOPIN -2688 -128 Out
FLAG -2432 -144 E2
IOPIN -2432 -144 Out
FLAG -2432 -336 E1
IOPIN -2432 -336 Out
FLAG -3520 2464 +Vs
IOPIN -3520 2464 In
FLAG -3520 2816 -Vs
IOPIN -3520 2816 In
FLAG -2640 2368 +Vs
IOPIN -2640 2368 In
FLAG -2640 2896 -Vs
IOPIN -2640 2896 In
FLAG -1936 1312 0
FLAG -2528 -848 0
FLAG -2464 -672 -VS
IOPIN -2464 -672 Out
FLAG -2496 -1056 +VS
IOPIN -2496 -1056 Out
FLAG -2272 -512 +VS
IOPIN -2272 -512 In
FLAG -2272 0 +VS
IOPIN -2272 0 In
FLAG -1920 -400 +VS
IOPIN -1920 -400 In
FLAG -1152 -352 +VS
IOPIN -1152 -352 In
FLAG -2784 448 +VS
IOPIN -2784 448 In
FLAG -2912 1008 +VS
IOPIN -2912 1008 In
FLAG -1792 864 +VS
IOPIN -1792 864 In
FLAG -2272 -176 -VS
IOPIN -2272 -176 In
FLAG -2272 -304 -VS
IOPIN -2272 -304 In
FLAG -1920 -112 -VS
IOPIN -1920 -112 In
FLAG -1152 -128 -VS
IOPIN -1152 -128 In
FLAG -2784 832 -VS
IOPIN -2784 832 In
FLAG -2912 1408 -VS
IOPIN -2912 1408 In
FLAG -2464 1696 -VS
IOPIN -2464 1696 In
FLAG -1792 1312 -VS
IOPIN -1792 1312 In
FLAG -2464 1344 +VS
IOPIN -2464 1344 In
FLAG -1664 1136 PID
IOPIN -1664 1136 Out
FLAG 464 2288 0
FLAG 1024 2544 0
FLAG 528 2176 +VS
IOPIN 528 2176 In
FLAG 528 2320 -VS
IOPIN 528 2320 In
FLAG 288 2224 TRI
IOPIN 288 2224 In
FLAG -1744 2736 TRI
IOPIN -1744 2736 Out
FLAG -1440 -256 E
IOPIN -1440 -256 In
FLAG -1008 -240 Error
IOPIN -1008 -240 Out
FLAG -2656 464 0
FLAG -2816 1040 0
FLAG -2688 816 0
FLAG -2816 1344 0
FLAG -1680 928 0
FLAG -1680 1248 0
FLAG -2368 1376 0
FLAG -2368 1680 0
FLAG -3248 -384 0
FLAG -2352 752 Integrator
FLAG 1232 2560 0
FLAG 1088 2288 +VS
IOPIN 1088 2288 In
FLAG 1088 2608 -VS
IOPIN 1088 2608 In
FLAG 320 1280 PID
IOPIN 320 1280 In
FLAG -1248 -112 0
FLAG -2544 992 Proportional
FLAG -2208 1584 Differentiator
FLAG 2176 1824 +VS
IOPIN 2176 1824 In
FLAG 2176 1616 -VS
IOPIN 2176 1616 In
FLAG 1712 1472 PID_OUT
IOPIN 1712 1472 Out
FLAG 1680 2480 Triangle_out
IOPIN 1680 2480 Out
FLAG -2112 2624 +VS
IOPIN -2112 2624 In
FLAG -2112 2848 -VS
IOPIN -2112 2848 In
FLAG -2208 2864 0
FLAG 64 -336 0
FLAG -16 -480 PID
IOPIN -16 -480 In
FLAG 16 320 0
FLAG -64 176 PID
IOPIN -64 176 In
FLAG 304 -928 0
FLAG 208 -1072 +Vss
IOPIN 208 -1072 Out
FLAG 160 -352 +VS
IOPIN 160 -352 In
FLAG 736 -672 +Vss
IOPIN 736 -672 In
FLAG 336 0 +Vss
IOPIN 336 0 In
FLAG 160 -576 -VS
IOPIN 160 -576 In
FLAG 112 304 -VS
IOPIN 112 304 In
FLAG 112 96 +VS
IOPIN 112 96 In
FLAG 208 -784 -Vss
IOPIN 208 -784 Out
FLAG 432 336 0
FLAG 496 -288 0
FLAG 800 112 IN2
IOPIN 800 112 Out
FLAG 944 -560 IN1
IOPIN 944 -560 Out
FLAG 2000 1696 PID_OUT
IOPIN 2000 1696 Out
FLAG 2016 1728 Triangle_out
IOPIN 2016 1728 Out
FLAG 2816 1472 +VS
IOPIN 2816 1472 In
FLAG 2816 1936 0
FLAG 496 1280 0
FLAG 1056 1536 0
FLAG 560 1168 +VS
IOPIN 560 1168 In
FLAG 560 1312 -VS
IOPIN 560 1312 In
FLAG 1264 1552 0
FLAG 1120 1280 +VS
IOPIN 1120 1280 In
FLAG 1120 1600 -VS
IOPIN 1120 1600 In
FLAG 3424 2048 0
FLAG 3808 1856 ENA
FLAG 3792 2032 0
SYMBOL cap -3712 2688 R0
SYMATTR InstName C1
SYMATTR Value 1µf
SYMBOL res -3520 2512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1.5k
SYMBOL res -3440 2752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -3568 2896 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL OpAmps\\LT1001 -3520 2608 R0
SYMATTR InstName U2
SYMBOL OpAmps\\LT1001 -2640 2592 R0
SYMATTR InstName U1
SYMBOL cap -2672 2544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100nf
SYMBOL res -2768 2624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -2752 2720 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res -2624 2400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL OpAmps\\LT1001 -2272 -416 R0
SYMATTR InstName U3
SYMBOL OpAmps\\LT1001 -2272 -64 M180
SYMATTR InstName U4
SYMBOL OpAmps\\LT1001 -1920 -304 R0
SYMATTR InstName U5
SYMBOL res -2032 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res -1872 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -2032 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -1984 -64 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL OpAmps\\LT1001 -2912 1168 R0
SYMATTR InstName U6
SYMBOL res -3024 1280 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res -2992 1200 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res -2864 1088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 20k
SYMBOL OpAmps\\LT1001 -2784 688 R0
SYMATTR InstName U7
SYMBOL OpAmps\\LT1001 -2464 1520 R0
SYMATTR InstName U8
SYMBOL res -2416 1440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res -2912 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL cap -2752 608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 18 -6 VTop 2
SYMATTR InstName C3
SYMATTR Value 100nf
SYMBOL cap -2592 1552 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 47nf
SYMBOL res -2720 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res -2704 -48 R0
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL res -2704 -320 R0
SYMATTR InstName LDR2
SYMATTR Value 16k
SYMBOL res -3040 -80 R0
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res -3040 -320 R0
SYMATTR InstName LDR1
SYMATTR Value 22k
SYMBOL OpAmps\\LT1001 -1792 1072 R0
SYMATTR InstName U9
SYMBOL res -2000 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL res -2000 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL res -2000 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 1k
SYMBOL res -1792 992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 1k
SYMBOL OpAmps\\LT1001 -1152 -304 R0
SYMATTR InstName U10
SYMBOL voltage -2528 -976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -2528 -848 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL diode 544 2048 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 768 2224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL OpAmps\\LT1001 528 2176 R0
SYMATTR InstName U13
SYMBOL res 560 1936 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10k
SYMBOL res 960 2224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 5k
SYMBOL res 384 2208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value 10k
SYMBOL res 832 2448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R37
SYMATTR Value 10k
SYMBOL OpAmps\\LT1001 1088 2416 R0
SYMATTR InstName U14
SYMBOL res 1152 2352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value 10k
SYMBOL res -1312 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -1104 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 7k
SYMBOL cap -2368 1360 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100nf
SYMBOL cap -2368 1664 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100nf
SYMBOL cap -2816 1328 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100nf
SYMBOL cap -2816 1024 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 100nf
SYMBOL cap -2688 800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 100nf
SYMBOL cap -2656 448 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 100nf
SYMBOL cap -1680 912 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 100nf
SYMBOL cap -1680 1232 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 100nf
SYMBOL voltage -3248 -480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res 1216 2464 R0
SYMATTR InstName R35
SYMATTR Value 10k
SYMBOL OpAmps\\LT1001 2176 1776 M180
SYMATTR InstName U11
SYMBOL OpAmps\\LT1001 -2112 2672 R0
SYMATTR InstName U12
SYMBOL res -2272 2704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 10k
SYMBOL res -2064 2480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 5k
SYMBOL OpAmps\\LT1001 160 -400 M180
SYMATTR InstName U16
SYMBOL cap -3088 2624 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 100µf
SYMBOL OpAmps\\LT1001 112 128 R0
SYMATTR InstName U21
SYMBOL nmos 448 -544 R0
SYMATTR InstName M1
SYMATTR Value IRF7343N
SYMBOL nmos 400 112 R0
SYMATTR InstName M2
SYMATTR Value IRF7343N
SYMBOL res 384 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 178
SYMBOL res 336 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 178
SYMBOL voltage 208 -1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage 208 -928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL res 480 -688 R0
SYMATTR InstName R48
SYMATTR Value 10k
SYMBOL res 432 -16 R0
SYMATTR InstName R49
SYMATTR Value 10k
SYMBOL res 400 -432 R0
SYMATTR InstName R50
SYMATTR Value 100k
SYMBOL res 336 240 R0
SYMATTR InstName R51
SYMATTR Value 100k
SYMBOL nmos 2768 1632 R0
SYMATTR InstName M3
SYMATTR Value IRF7343N
SYMBOL res 2512 1696 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 178
SYMBOL res 2800 1760 R0
SYMATTR InstName R39
SYMATTR Value 10k
SYMBOL res 2688 1760 R0
SYMATTR InstName R40
SYMATTR Value 100k
SYMBOL diode 576 1040 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 800 1216 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL OpAmps\\LT1001 560 1168 R0
SYMATTR InstName U15
SYMBOL res 592 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 992 1216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 5k
SYMBOL res 416 1200 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 10k
SYMBOL res 864 1440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 10k
SYMBOL OpAmps\\LT1001 1120 1408 R0
SYMATTR InstName U19
SYMBOL res 1184 1344 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R53
SYMATTR Value 10k
SYMBOL res 1248 1456 R0
SYMATTR InstName R54
SYMATTR Value 10k
SYMBOL res 3408 1728 R0
SYMATTR InstName R41
SYMATTR Value 10k
SYMBOL res 3408 1856 R0
SYMATTR InstName R42
SYMATTR Value 10k
SYMBOL cap -2448 2640 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 100µf
SYMBOL diode 3680 1872 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 3776 1888 R0
SYMATTR InstName R43
SYMATTR Value 20k
TEXT -3208 -1712 Left 2 !.tran 0 150ms 100ms
TEXT -3624 2128 Left 5 ;Triangle waveform generator
TEXT -2624 328 Left 5 ;PID
TEXT -1912 -1216 Left 4 ;Differential amplifier + inverting amplifier
TEXT -4288 2344 Left 2 ;R1 Changes the amplitude of the triangular wave.Increasing R1 increases amplitude. Will saturate and distort if greater than 2k.\nWhen R1 decreases frequency of wave increases.
TEXT -3240 -312 Left 2 ;Ambient = 26k
TEXT -3256 -264 Left 2 ;Direct light = 1k
TEXT 1616 2512 Left 2 ;Triangular wave frequency ~1.022KHz
TEXT -1112 -512 Left 2 ;Add potentiometer here to adjust gain
TEXT 1776 1736 Left 2 ;green
TEXT 1784 1688 Left 2 ;white
TEXT 3304 1600 Left 2 ;added a potential divider here, to adjust voltage at input pin
TEXT -2144 840 Left 2 ;Add variable resistors here
TEXT -3096 -600 Left 2 ;Error sensing from LDRs'
TEXT 248 -1280 Left 2 ;Motor rotational direction controller
TEXT 696 1752 Left 4 ;Precision rectifiers
TEXT 2632 896 Left 4 ;PWM controller
TEXT 3248 2136 Left 2 ;Added a silicon diode to get rid of negative pulse.
TEXT 3880 1936 Left 2 ;minimum input resistance\nat input to PWM enable pin of\nmotor controller
RECTANGLE Normal 1056 464 -256 -1232
RECTANGLE Normal -624 176 -3424 -1280
RECTANGLE Normal -1520 1872 -3216 368
RECTANGLE Normal -1568 3152 -4320 2176
RECTANGLE Normal 3856 2784 96 832
